services:
  yolov8_app:
    build:
      context: ./yolov8_app/
      dockerfile: Dockerfile
    develop:
      watch:
        - action: sync
          path: ./yolov8_app
          target: /app
    ports:
      - 8501:8501
      - 8000:8000
    restart: always
    container_name: myinvictia_yolov8_app
# Uncomment the following lines to enable Nvidia GPU support:
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: [gpu]
#    deploy:
#      resources:
#        reservations:
#          devices:
#            - driver: nvidia
#              count: 1
#              capabilities: [gpu]